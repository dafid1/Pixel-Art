<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>لوحة الإدارة المتقدمة | بيكسل آرت</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap">
    <style>
        /* متغيرات التصميم */
        :root {
            --primary-color: #0a9396;
            --primary-dark: #005f73;
            --primary-light: #94d2bd;
            --primary-gradient: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            --secondary-color: #ee9b00;
            --success-color: #2a9d8f;
            --warning-color: #e9c46a;
            --danger-color: #e76f51;
            --info-color: #264653;
            --dark-color: #1a1a2e;
            --light-color: #f8fafc;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-dark: #1e293b;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-light: #94a3b8;
            --border-color: #e2e8f0;
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
            --shadow-xl: 0 20px 40px rgba(0,0,0,0.2);
            --transition-fast: 200ms;
            --transition-normal: 300ms;
            --transition-slow: 500ms;
        }

        /* إعادة الضبط */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
        }

        body {
            font-family: 'Cairo', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--text-primary);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* شريط الحالة المخصص */
        .status-bar {
            height: 30px;
            background: var(--dark-color);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
            font-size: 12px;
            flex-shrink: 0;
        }

        .status-time {
            font-weight: 600;
        }

        .status-icons {
            display: flex;
            gap: 8px;
        }

        /* الهيدر المحسن */
        .app-header {
            height: 70px;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            box-shadow: var(--shadow-md);
            flex-shrink: 0;
            position: relative;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .app-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .app-logo-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .app-logo-text h1 {
            font-size: 18px;
            font-weight: 800;
            color: var(--dark-color);
            margin: 0;
            line-height: 1.2;
        }

        .app-logo-text span {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .user-badge {
            background: linear-gradient(135deg, var(--info-color), #1d3557);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow-sm);
        }

        .user-badge i {
            font-size: 14px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: none;
            color: var(--text-primary);
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all var(--transition-fast);
        }

        .header-action:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            left: -5px;
            background: var(--danger-color);
            color: white;
            font-size: 10px;
            font-weight: 800;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* البحث السريع */
        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 10px 45px 10px 20px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            font-size: 14px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all var(--transition-normal);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(10, 147, 150, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        /* المحتوى الرئيسي */
        .main-content {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding: 25px 20px 90px 20px;
            position: relative;
        }

        /* بطاقة الترحيب المحسنة */
        .welcome-card {
            background: linear-gradient(135deg, var(--dark-color), var(--info-color));
            border-radius: var(--radius-lg);
            padding: 30px;
            color: white;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .welcome-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
        }

        .welcome-header {
            position: relative;
            z-index: 1;
            margin-bottom: 25px;
        }

        .welcome-header h2 {
            font-size: 24px;
            margin: 0 0 10px 0;
            font-weight: 800;
        }

        .welcome-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 15px;
            max-width: 600px;
        }

        /* إحصائيات متقدمة */
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            position: relative;
            z-index: 1;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: var(--radius-lg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-normal);
            cursor: pointer;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.25);
            box-shadow: var(--shadow-md);
        }

        .stat-label {
            font-size: 13px;
            opacity: 0.9;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-label i {
            font-size: 14px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .stat-change {
            font-size: 12px;
            font-weight: 600;
        }

        .change-positive {
            color: #4ade80;
        }

        .change-negative {
            color: #f87171;
        }

        /* عناوين الأقسام */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .section-title h3 {
            font-size: 18px;
            font-weight: 700;
            margin: 0;
            color: var(--dark-color);
        }

        .view-all {
            color: var(--primary-color);
            font-size: 14px;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all var(--transition-fast);
        }

        .view-all:hover {
            color: var(--primary-dark);
            gap: 10px;
        }

        /* شبكة الإدارة */
        .admin-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .admin-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 25px;
            box-shadow: var(--shadow-sm);
            border: 2px solid transparent;
            transition: all var(--transition-normal);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .admin-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .admin-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        .admin-card:hover::before {
            opacity: 1;
        }

        .admin-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-color), var(--info-color));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            color: white;
            font-size: 24px;
            transition: all var(--transition-normal);
        }

        .admin-card:hover .admin-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .admin-card h4 {
            font-size: 16px;
            margin: 0 0 10px 0;
            font-weight: 700;
            color: var(--dark-color);
        }

        .admin-card p {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 0 0 15px 0;
            line-height: 1.5;
        }

        .admin-badge {
            display: inline-block;
            padding: 4px 12px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }

        /* التحليلات المتقدمة */
        .analytics-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .analytics-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 25px;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .analytics-card::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-color);
        }

        .analytics-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .analytics-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analytics-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .analytics-progress {
            height: 6px;
            background: var(--border-color);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 3px;
            transition: width 1s ease-in-out;
        }

        /* قائمة الطلبات */
        .requests-list {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            margin-bottom: 30px;
        }

        .request-item {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all var(--transition-fast);
        }

        .request-item:hover {
            background: var(--bg-secondary);
        }

        .request-item:last-child {
            border-bottom: none;
        }

        .request-info {
            flex: 1;
        }

        .request-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .request-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }

        .badge-new {
            background: var(--success-color);
            color: white;
        }

        .badge-urgent {
            background: var(--danger-color);
            color: white;
        }

        .badge-pending {
            background: var(--warning-color);
            color: var(--dark-color);
        }

        .request-info h4 {
            font-size: 15px;
            margin: 0;
            font-weight: 600;
            color: var(--dark-color);
        }

        .request-details {
            display: flex;
            gap: 15px;
            margin-top: 8px;
        }

        .request-detail {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .request-detail i {
            font-size: 14px;
        }

        .request-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--radius-sm);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all var(--transition-fast);
        }

        .btn-view {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .btn-view:hover {
            background: var(--primary-color);
            color: white;
        }

        .btn-approve {
            background: var(--success-color);
            color: white;
        }

        .btn-approve:hover {
            background: #218c74;
            transform: translateY(-2px);
        }

        .btn-reject {
            background: var(--danger-color);
            color: white;
        }

        .btn-reject:hover {
            background: #d65c40;
            transform: translateY(-2px);
        }

        /* التنبيهات والإشعارات */
        .alert-container {
            position: fixed;
            top: 100px;
            left: 20px;
            right: 20px;
            z-index: 1000;
            pointer-events: none;
        }

        .alert {
            background: white;
            border-radius: var(--radius-md);
            padding: 15px 20px;
            margin-bottom: 10px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 15px;
            transform: translateY(-20px);
            opacity: 0;
            animation: slideIn 0.3s forwards;
            pointer-events: auto;
            border-right: 4px solid var(--primary-color);
        }

        .alert-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .alert-success .alert-icon {
            background: rgba(42, 157, 143, 0.1);
            color: var(--success-color);
        }

        .alert-warning .alert-icon {
            background: rgba(233, 196, 106, 0.1);
            color: var(--warning-color);
        }

        .alert-danger .alert-icon {
            background: rgba(231, 111, 81, 0.1);
            color: var(--danger-color);
        }

        .alert-content {
            flex: 1;
        }

        .alert-content h4 {
            margin: 0 0 5px 0;
            font-size: 14px;
            font-weight: 700;
        }

        .alert-content p {
            margin: 0;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .alert-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 18px;
        }

        @keyframes slideIn {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* شريط التنقل السفلي المحسن */
        .bottom-nav {
            height: 80px;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 20px;
            box-shadow: 0 -2px 20px rgba(0,0,0,0.1);
            flex-shrink: 0;
            position: relative;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 12px;
            flex: 1;
            padding: 12px 8px;
            transition: all var(--transition-fast);
            position: relative;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            top: -8px;
            width: 40px;
            height: 3px;
            background: var(--primary-color);
            border-radius: 2px;
        }

        .nav-item i {
            font-size: 22px;
        }

        .nav-item:hover {
            color: var(--primary-color);
            transform: translateY(-3px);
        }

        .nav-center {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--info-color), var(--dark-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin-top: -40px;
            box-shadow: var(--shadow-lg);
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .nav-center:hover {
            transform: scale(1.1) rotate(180deg);
            box-shadow: var(--shadow-xl);
        }

        /* شريط التحميل */
        .loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            z-index: 1001;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .loading-bar.active {
            transform: translateX(0);
        }

        /* الفلاتر */
        .filter-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .filter-btn {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 20px;
            color: var(--text-primary);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            transition: all var(--transition-fast);
        }

        .filter-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .filter-btn:hover:not(.active) {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* تحسينات للهواتف */
        @media (max-width: 1200px) {
            .admin-grid,
            .analytics-cards {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .search-container {
                width: 200px;
            }
            
            .app-header {
                padding: 0 15px;
            }
        }

        @media (max-width: 576px) {
            .admin-grid,
            .analytics-cards,
            .admin-stats {
                grid-template-columns: 1fr;
            }
            
            .search-container {
                display: none;
            }
            
            .main-content {
                padding: 20px 15px 90px 15px;
            }
            
            .welcome-card {
                padding: 20px;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .request-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .request-actions {
                width: 100%;
                justify-content: flex-start;
            }
        }

        /* تأثيرات التمرير */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* شريط التمرير */
        .main-content::-webkit-scrollbar {
            width: 8px;
        }

        .main-content::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .main-content::-webkit-scrollbar-thumb {
            background: var(--info-color);
            border-radius: 4px;
        }

        .main-content::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }
    </style>
</head>
<body>
    <!-- شريط التحميل -->
    <div class="loading-bar" id="loadingBar"></div>

    <!-- شريط الحالة -->
    <div class="status-bar">
        <div class="status-time" id="currentTime">12:00</div>
        <div class="status-icons">
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-three-quarters"></i>
            <span id="currentDate">الأحد ١ يناير</span>
        </div>
    </div>

    <!-- الهيدر -->
    <header class="app-header">
        <div class="header-left">
            <a href="dashboard-admin.html" class="app-logo">
                <div class="app-logo-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <div class="app-logo-text">
                    <h1>بيكسل آرت</h1>
                    <span>منصة التصميم العربية</span>
                </div>
            </a>
            
            <div class="user-badge">
                <i class="fas fa-crown"></i>
                مدير النظام
            </div>
        </div>

        <div class="search-container">
            <input type="text" class="search-input" placeholder="بحث سريع..." id="searchInput">
            <i class="fas fa-search search-icon"></i>
        </div>

        <div class="header-right">
            <button class="header-action" onclick="toggleNotifications()" id="notificationBtn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationCount">5</span>
            </button>
            
            <button class="header-action" onclick="openReports()">
                <i class="fas fa-chart-bar"></i>
            </button>
            
            <button class="header-action" onclick="toggleQuickStats()">
                <i class="fas fa-bolt"></i>
            </button>
        </div>
    </header>

    <!-- إشعارات -->
    <div class="alert-container" id="alertContainer"></div>

    <!-- المحتوى الرئيسي -->
    <main class="main-content" id="mainContent">
        <!-- بطاقة الترحيب -->
        <section class="welcome-card fade-in">
            <div class="welcome-header">
                <h2 id="welcomeTitle">مرحباً بك، مدير المنصة!</h2>
                <p>إدارة متكاملة للمنصة والتحكم بجميع العمليات بكل سهولة واحترافية</p>
            </div>
            
            <div class="admin-stats">
                <div class="stat-item" onclick="openManagement('users')">
                    <div class="stat-label">
                        <i class="fas fa-users"></i>
                        إجمالي العملاء
                    </div>
                    <div class="stat-value" id="totalUsers">247</div>
                    <div class="stat-change change-positive">
                        <i class="fas fa-arrow-up"></i> +12 هذا الأسبوع
                    </div>
                </div>
                
                <div class="stat-item" onclick="openManagement('designers')">
                    <div class="stat-label">
                        <i class="fas fa-paint-brush"></i>
                        المصممون النشطون
                    </div>
                    <div class="stat-value" id="activeDesigners">89</div>
                    <div class="stat-change change-positive">
                        <i class="fas fa-arrow-up"></i> +5 جديدون
                    </div>
                </div>
                
                <div class="stat-item" onclick="openManagement('projects')">
                    <div class="stat-label">
                        <i class="fas fa-project-diagram"></i>
                        المشاريع الجارية
                    </div>
                    <div class="stat-value" id="activeProjects">42</div>
                    <div class="stat-change change-negative">
                        <i class="fas fa-arrow-down"></i> -3 منتهية
                    </div>
                </div>
                
                <div class="stat-item" onclick="openManagement('finances')">
                    <div class="stat-label">
                        <i class="fas fa-chart-line"></i>
                        الإيرادات الشهرية
                    </div>
                    <div class="stat-value" id="monthlyRevenue">85,600 ريال</div>
                    <div class="stat-change change-positive">
                        <i class="fas fa-arrow-up"></i> +18% عن الشهر الماضي
                    </div>
                </div>
            </div>
        </section>

        <!-- إدارة النظام -->
        <section class="fade-in">
            <div class="section-header">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>إدارة النظام المتكاملة</h3>
                </div>
                <a href="management.html" class="view-all">
                    كل الميزات
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="admin-grid">
                <div class="admin-card" onclick="openManagement('users')">
                    <div class="admin-icon">
                        <i class="fas fa-users-cog"></i>
                    </div>
                    <h4>إدارة المستخدمين</h4>
                    <p>إدارة حسابات العملاء والمصممين والموظفين مع صلاحيات متقدمة</p>
                    <span class="admin-badge">247 حساب نشط</span>
                </div>
                
                <div class="admin-card" onclick="openManagement('projects')">
                    <div class="admin-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <h4>المشاريع والطلبات</h4>
                    <p>مراقبة جميع المشاريع وحل النزاعات والتحكم في الجودة</p>
                    <span class="admin-badge">42 مشروع نشط</span>
                </div>
                
                <div class="admin-card" onclick="openManagement('finances')">
                    <div class="admin-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <h4>إدارة المالية</h4>
                    <p>التحكم في المدفوعات والعمولات والإيرادات والمصروفات</p>
                    <span class="admin-badge">85.6K ريال</span>
                </div>
                
                <div class="admin-card" onclick="openManagement('reports')">
                    <div class="admin-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h4>التقارير والتحليلات</h4>
                    <p>تقارير أداء المنصة والإحصائيات التفصيلية والتحليلات المتقدمة</p>
                    <span class="admin-badge">15 تقرير</span>
                </div>
                
                <div class="admin-card" onclick="openManagement('content')">
                    <div class="admin-icon">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    <h4>إدارة المحتوى</h4>
                    <p>إدارة المقالات والدورات والمحتوى التعليمي والمكتبة الرقمية</p>
                    <span class="admin-badge">120 مقال</span>
                </div>
                
                <div class="admin-card" onclick="openManagement('settings')">
                    <div class="admin-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h4>إعدادات النظام</h4>
                    <p>تعديل إعدادات المنصة والتخصيصات والميزات المتقدمة</p>
                    <span class="admin-badge">48 إعداد</span>
                </div>
            </div>
        </section>

        <!-- التحليلات السريعة -->
        <section class="fade-in">
            <div class="section-header">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>التحليلات والأداء</h3>
                </div>
                <a href="analytics.html" class="view-all">
                    تفاصيل التحليلات
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="analytics-cards">
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-chart-bar"></i>
                            معدل النمو
                        </span>
                        <span class="analytics-change change-positive">+24%</span>
                    </div>
                    <div class="analytics-value">24%</div>
                    <div class="analytics-progress">
                        <div class="progress-bar" style="width: 75%"></div>
                    </div>
                    <div class="analytics-detail">الأعلى هذا الشهر</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-star"></i>
                            رضا العملاء
                        </span>
                        <span class="analytics-change change-positive">+8%</span>
                    </div>
                    <div class="analytics-value">94%</div>
                    <div class="analytics-progress">
                        <div class="progress-bar" style="width: 94%"></div>
                    </div>
                    <div class="analytics-detail">من 247 عميل</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-clock"></i>
                            متوسط وقت التسليم
                        </span>
                        <span class="analytics-change change-negative">-3 أيام</span>
                    </div>
                    <div class="analytics-value">7 أيام</div>
                    <div class="analytics-progress">
                        <div class="progress-bar" style="width: 60%"></div>
                    </div>
                    <div class="analytics-detail">تحسن 30%</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-heart"></i>
                            معدل الاحتفاظ
                        </span>
                        <span class="analytics-change change-positive">+12%</span>
                    </div>
                    <div class="analytics-value">86%</div>
                    <div class="analytics-progress">
                        <div class="progress-bar" style="width: 86%"></div>
                    </div>
                    <div class="analytics-detail">الأعلى في السوق</div>
                </div>
            </div>
        </section>

        <!-- الطلبات الجديدة -->
        <section class="fade-in">
            <div class="section-header">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <h3>طلبات حديثة تحتاج موافقة</h3>
                </div>
                <div class="filter-bar">
                    <button class="filter-btn active" onclick="filterRequests('all')">الكل</button>
                    <button class="filter-btn" onclick="filterRequests('designers')">المصممين</button>
                    <button class="filter-btn" onclick="filterRequests('withdrawals')">السحوبات</button>
                    <button class="filter-btn" onclick="filterRequests('disputes')">النزاعات</button>
                    <button class="filter-btn" onclick="filterRequests('content')">المحتوى</button>
                </div>
            </div>
            
            <div class="requests-list" id="requestsList">
                <div class="request-item" data-category="designers">
                    <div class="request-info">
                        <div class="request-title">
                            <span class="request-badge badge-new">جديد</span>
                            <h4>طلب انضمام مصمم جديد</h4>
                        </div>
                        <p>سارة أحمد - تخصص تصميم UI/UX - خبرة 5 سنوات في التصميم الرقمي</p>
                        <div class="request-details">
                            <span class="request-detail">
                                <i class="far fa-clock"></i>
                                منذ 2 ساعة
                            </span>
                            <span class="request-detail">
                                <i class="far fa-file-alt"></i>
                                محفظة أعمال: 24 مشروع
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-star"></i>
                                تقييم: 4.8/5
                            </span>
                        </div>
                    </div>
                    <div class="request-actions">
                        <button class="action-btn btn-view" onclick="viewRequest(1)">
                            <i class="far fa-eye"></i>
                            عرض
                        </button>
                        <button class="action-btn btn-approve" onclick="approveRequest(1, 'designer')">
                            <i class="fas fa-check"></i>
                            قبول
                        </button>
                        <button class="action-btn btn-reject" onclick="rejectRequest(1, 'designer')">
                            <i class="fas fa-times"></i>
                            رفض
                        </button>
                    </div>
                </div>
                
                <div class="request-item" data-category="disputes">
                    <div class="request-info">
                        <div class="request-title">
                            <span class="request-badge badge-urgent">عاجل</span>
                            <h4>تسوية نزاع على مشروع</h4>
                        </div>
                        <p>مشروع #PRJ-045 - خلاف بين العميل والمصمم حول التسليم النهائي للتصميم</p>
                        <div class="request-details">
                            <span class="request-detail">
                                <i class="far fa-clock"></i>
                                منذ 6 ساعات
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-dollar-sign"></i>
                                القيمة: 3,500 ريال
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-exclamation-triangle"></i>
                                نزاع: مستوى عالي
                            </span>
                        </div>
                    </div>
                    <div class="request-actions">
                        <button class="action-btn btn-view" onclick="viewRequest(2)">
                            <i class="far fa-eye"></i>
                            التفاصيل
                        </button>
                        <button class="action-btn btn-approve" onclick="resolveDispute(2)">
                            <i class="fas fa-handshake"></i>
                            تسوية
                        </button>
                    </div>
                </div>
                
                <div class="request-item" data-category="withdrawals">
                    <div class="request-info">
                        <div class="request-title">
                            <span class="request-badge badge-pending">معلق</span>
                            <h4>طلب سحب أموال</h4>
                        </div>
                        <p>المصمم أحمد محمد - مبلغ 2,500 ريال - طريقة السحب: حساب بنكي</p>
                        <div class="request-details">
                            <span class="request-detail">
                                <i class="far fa-clock"></i>
                                منذ يومين
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-university"></i>
                                البنك: الأهلي
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-history"></i>
                                الطلب: رقم #WD-789
                            </span>
                        </div>
                    </div>
                    <div class="request-actions">
                        <button class="action-btn btn-view" onclick="viewRequest(3)">
                            <i class="far fa-eye"></i>
                            تفاصيل
                        </button>
                        <button class="action-btn btn-approve" onclick="approveWithdrawal(3)">
                            <i class="fas fa-check-circle"></i>
                            تحويل
                        </button>
                    </div>
                </div>
                
                <div class="request-item" data-category="content">
                    <div class="request-info">
                        <div class="request-title">
                            <span class="request-badge badge-new">جديد</span>
                            <h4>بلاغ عن محتوى غير مناسب</h4>
                        </div>
                        <p>صورة في معرض الأعمال - مستخدم مجهول - نوع المخالفة: حقوق نشر</p>
                        <div class="request-details">
                            <span class="request-detail">
                                <i class="far fa-clock"></i>
                                منذ 3 ساعات
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-user-secret"></i>
                                بلاغ مجهول
                            </span>
                            <span class="request-detail">
                                <i class="fas fa-flag"></i>
                                محتوى: صورة
                            </span>
                        </div>
                    </div>
                    <div class="request-actions">
                        <button class="action-btn btn-view" onclick="viewContent(4)">
                            <i class="fas fa-search"></i>
                            فحص
                        </button>
                        <button class="action-btn btn-reject" onclick="removeContent(4)">
                            <i class="fas fa-trash"></i>
                            حذف
                        </button>
                        <button class="action-btn" style="background: var(--warning-color); color: white;" onclick="warnUser(4)">
                            <i class="fas fa-exclamation-triangle"></i>
                            إنذار
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- مخططات سريعة -->
        <section class="fade-in" id="quickStats" style="display: none;">
            <div class="section-header">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>إحصائيات سريعة</h3>
                </div>
                <button class="view-all" onclick="toggleQuickStats()">
                    إخفاء
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="analytics-cards">
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-user-plus"></i>
                            تسجيلات اليوم
                        </span>
                    </div>
                    <div class="analytics-value">24</div>
                    <div class="analytics-detail">+3 عن الأمس</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-shopping-cart"></i>
                            طلبات اليوم
                        </span>
                    </div>
                    <div class="analytics-value">18</div>
                    <div class="analytics-detail">بقيمة 45,200 ريال</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-comments"></i>
                            المحادثات النشطة
                        </span>
                    </div>
                    <div class="analytics-value">89</div>
                    <div class="analytics-detail">مستجابة: 92%</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-header">
                        <span class="analytics-title">
                            <i class="fas fa-tasks"></i>
                            المهام المكتملة
                        </span>
                    </div>
                    <div class="analytics-value">156</div>
                    <div class="analytics-detail">+12% عن الأسبوع الماضي</div>
                </div>
            </div>
        </section>
    </main>

    <!-- شريط التنقل السفلي -->
    <nav class="bottom-nav">
        <a href="dashboard-admin.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>الرئيسية</span>
        </a>
        
        <a href="users-management.html" class="nav-item">
            <i class="fas fa-users"></i>
            <span>المستخدمين</span>
        </a>
        
        <div class="nav-center" onclick="openQuickActions()">
            <i class="fas fa-plus"></i>
        </div>
        
        <a href="projects-management.html" class="nav-item">
            <i class="fas fa-project-diagram"></i>
            <span>المشاريع</span>
        </a>
        
        <a href="reports.html" class="nav-item">
            <i class="fas fa-chart-bar"></i>
            <span>التقارير</span>
        </a>
    </nav>

    <script>
        // بيانات التطبيق
        const appData = {
            currentUser: null,
            notifications: [],
            requests: [],
            stats: {
                totalUsers: 247,
                activeDesigners: 89,
                activeProjects: 42,
                monthlyRevenue: 85600
            }
        };

        // تهيئة التطبيق
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
            setupEventListeners();
            updateDateTime();
            setupScrollAnimations();
            simulateLiveUpdates();
        });

        // تهيئة التطبيق
        function initApp() {


            // تحميل البيانات
            loadDashboardData();
            loadNotifications();
        }

        // إعداد مستمعي الأحداث
        function setupEventListeners() {
            // البحث
            document.getElementById('searchInput').addEventListener('input', function(e) {
                searchDashboard(e.target.value);
            });

            // تفاعلات البطاقات
            document.querySelectorAll('.admin-card').forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
            });

            // تحديث تلقائي كل 30 ثانية
            setInterval(updateDashboardStats, 30000);
        }

        // تحديث التاريخ والوقت
        function updateDateTime() {
            const now = new Date();
            const timeEl = document.getElementById('currentTime');
            const dateEl = document.getElementById('currentDate');
            
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            
            const arabicNumbers = ['٠','١','٢','٣','٤','٥','٦','٧','٨','٩'];
            let timeText = now.toLocaleTimeString('ar-SA', timeOptions);
            
            // تحويل الأرقام إلى عربية
            timeText = timeText.replace(/\d/g, d => arabicNumbers[d]);
            
            timeEl.textContent = timeText;
            dateEl.textContent = now.toLocaleDateString('ar-SA', dateOptions);
            
            setTimeout(updateDateTime, 60000);
        }

        // تحديث رسالة الترحيب
        function updateWelcomeMessage() {
            if (appData.currentUser) {
                const title = document.getElementById('welcomeTitle');
                const hour = new Date().getHours();
                let greeting = '';
                
                if (hour < 12) greeting = 'صباح الخير';
                else if (hour < 18) greeting = 'مساء الخير';
                else greeting = 'مساء الخير';
                
                title.textContent = `${greeting}، ${appData.currentUser.name}!`;
            }
        }

        // تحميل بيانات لوحة التحكم
        function loadDashboardData() {
            showLoading(true);
            
            // محاكاة جلب البيانات من السيرفر
            setTimeout(() => {
                // تحديث الإحصائيات
                Object.keys(appData.stats).forEach(key => {
                    const el = document.getElementById(key);
                    if (el) {
                        animateCounter(el, appData.stats[key]);
                    }
                });
                
                showLoading(false);
                showAlert('success', 'تم تحديث البيانات', 'تم تحميل أحدث البيانات بنجاح');
            }, 1000);
        }

        // تحميل الإشعارات
        function loadNotifications() {
            // محاكاة بيانات الإشعارات
            appData.notifications = [
                { id: 1, type: 'warning', title: 'نزاع جديد', message: 'يوجد نزاع يحتاج تدخلك', time: 'منذ 10 دقائق' },
                { id: 2, type: 'success', title: 'دفعة ناجحة', message: 'تم تحويل 2,500 ريال بنجاح', time: 'منذ ساعة' },
                { id: 3, type: 'info', title: 'تقرير جاهز', message: 'تقرير الأداء الشهري جاهز للعرض', time: 'منذ 3 ساعات' },
                { id: 4, type: 'danger', title: 'محتوى غير لائق', message: 'تم الإبلاغ عن محتوى غير مناسب', time: 'منذ 5 ساعات' }
            ];
            
            document.getElementById('notificationCount').textContent = appData.notifications.length;
        }

        // البحث في لوحة التحكم
        function searchDashboard(query) {
            if (query.trim() === '') return;
            
            const sections = document.querySelectorAll('.fade-in');
            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(query.toLowerCase())) {
                    section.style.backgroundColor = 'rgba(10, 147, 150, 0.05)';
                    section.style.border = '2px solid var(--primary-color)';
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    section.style.backgroundColor = '';
                    section.style.border = '';
                }
            });
        }

        // عرض/إخفاء الإحصائيات السريعة
        function toggleQuickStats() {
            const quickStats = document.getElementById('quickStats');
            const isVisible = quickStats.style.display === 'block';
            
            if (isVisible) {
                quickStats.style.display = 'none';
            } else {
                quickStats.style.display = 'block';
                quickStats.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // فتح الإدارة
        function openManagement(type) {
            showLoading(true);
            
            const pages = {
                'users': 'users-management.html',
                'designers': 'designers-management.html',
                'projects': 'projects-management.html',
                'finances': 'finances-management.html',
                'reports': 'reports.html',
                'content': 'content-management.html',
                'settings': 'settings.html'
            };
            
            setTimeout(() => {
                showLoading(false);
                if (pages[type]) {
                    window.location.href = pages[type];
                }
            }, 800);
        }

        // تصفية الطلبات
        function filterRequests(category) {
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => btn.classList.remove('active'));
            
            event.target.classList.add('active');
            
            const requests = document.querySelectorAll('.request-item');
            
            requests.forEach(request => {
                if (category === 'all' || request.dataset.category === category) {
                    request.style.display = 'flex';
                } else {
                    request.style.display = 'none';
                }
            });
        }

        // عرض طلب
        function viewRequest(id) {
            showLoading(true);
            setTimeout(() => {
                showLoading(false);
                window.location.href = `request-details.html?id=${id}`;
            }, 500);
        }

        // قبول طلب
        function approveRequest(id, type) {
            if (confirm(`هل تريد الموافقة على هذا الطلب؟`)) {
                showLoading(true);
                
                setTimeout(() => {
                    showLoading(false);
                    showAlert('success', 'تمت الموافقة', `تمت الموافقة على ${type === 'designer' ? 'انضمام المصمم' : 'الطلب'} بنجاح`);
                    
                    // تحديث واجهة المستخدم
                    const requestItem = event.target.closest('.request-item');
                    if (requestItem) {
                        requestItem.style.opacity = '0.5';
                        requestItem.style.pointerEvents = 'none';
                        
                        setTimeout(() => {
                            requestItem.remove();
                            updateRequestCount();
                        }, 1000);
                    }
                }, 1000);
            }
        }

        // رفض طلب
        function rejectRequest(id, type) {
            const reason = prompt(`أدخل سبب رفض ${type === 'designer' ? 'انضمام المصمم' : 'الطلب'}:`);
            if (reason && reason.trim() !== '') {
                showLoading(true);
                
                setTimeout(() => {
                    showLoading(false);
                    showAlert('warning', 'تم الرفض', `تم رفض الطلب بسبب: ${reason}`);
                    
                    // تحديث واجهة المستخدم
                    const requestItem = event.target.closest('.request-item');
                    if (requestItem) {
                        requestItem.style.opacity = '0.5';
                        requestItem.style.pointerEvents = 'none';
                        
                        setTimeout(() => {
                            requestItem.remove();
                            updateRequestCount();
                        }, 1000);
                    }
                }, 1000);
            }
        }

        // تسوية نزاع
        function resolveDispute(id) {
            const resolution = prompt('أدخل تفاصيل تسوية النزاع:');
            if (resolution) {
                showLoading(true);
                
                setTimeout(() => {
                    showLoading(false);
                    showAlert('success', 'تمت التسوية', 'تم حل النزاع بنجاح وإرسال القرار للأطراف');
                    
                    const requestItem = event.target.closest('.request-item');
                    if (requestItem) {
                        requestItem.remove();
                        updateRequestCount();
                    }
                }, 1000);
            }
        }

        // موافقة سحب أموال
        function approveWithdrawal(id) {
            if (confirm('هل تريد تحويل المبلغ إلى حساب المصمم؟')) {
                showLoading(true);
                
                setTimeout(() => {
                    showLoading(false);
                    showAlert('success', 'تم التحويل', 'تم تحويل 2,500 ريال إلى حساب المصمم بنجاح');
                    
                    const requestItem = event.target.closest('.request-item');
                    if (requestItem) {
                        requestItem.remove();
                        updateRequestCount();
                    }
                }, 1000);
            }
        }

        // تحديث عدد الطلبات
        function updateRequestCount() {
            const remainingRequests = document.querySelectorAll('.request-item').length;
            if (remainingRequests === 0) {
                document.querySelector('.requests-section').innerHTML = `
                    <div style="text-align: center; padding: 40px; background: var(--bg-primary); border-radius: var(--radius-lg);">
                        <i class="fas fa-check-circle" style="font-size: 48px; color: var(--success-color); margin-bottom: 20px;"></i>
                        <h3 style="margin: 0 0 10px 0; color: var(--dark-color);">لا توجد طلبات جديدة</h3>
                        <p style="color: var(--text-secondary);">جميع الطلبات الحالية معالجة</p>
                    </div>
                `;
            }
        }

        // إشعارات
        function toggleNotifications() {
            const notifications = appData.notifications;
            let notificationHTML = `
                <div style="position: fixed; top: 100px; right: 20px; left: 20px; background: white; border-radius: var(--radius-lg); box-shadow: var(--shadow-xl); z-index: 1000; padding: 20px; max-height: 400px; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid var(--border-color);">
                        <h3 style="margin: 0; color: var(--dark-color);">الإشعارات (${notifications.length})</h3>
                        <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; color: var(--text-secondary); font-size: 20px; cursor: pointer;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
            `;
            
            notifications.forEach(notif => {
                const icon = notif.type === 'success' ? 'check-circle' : 
                            notif.type === 'warning' ? 'exclamation-triangle' : 
                            notif.type === 'danger' ? 'times-circle' : 'info-circle';
                
                notificationHTML += `
                    <div style="padding: 15px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 15px;">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: ${getNotificationColor(notif.type)}; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                            <i class="fas fa-${icon}"></i>
                        </div>
                        <div style="flex: 1;">
                            <h4 style="margin: 0 0 5px 0; font-size: 14px; color: var(--dark-color);">${notif.title}</h4>
                            <p style="margin: 0; font-size: 13px; color: var(--text-secondary);">${notif.message}</p>
                            <small style="color: var(--text-light);">${notif.time}</small>
                        </div>
                    </div>
                `;
            });
            
            notificationHTML += `
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="markAllAsRead()" style="padding: 10px 20px; background: var(--primary-color); color: white; border: none; border-radius: var(--radius-md); font-weight: 600; cursor: pointer;">
                            تعيين الكافة كمقروءة
                        </button>
                    </div>
                </div>
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 999;" onclick="this.remove(); this.previousElementSibling.remove();"></div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', notificationHTML);
            
            // تحديث العداد
            document.getElementById('notificationCount').textContent = '0';
        }

        function getNotificationColor(type) {
            const colors = {
                'success': '#2a9d8f',
                'warning': '#e9c46a',
                'danger': '#e76f51',
                'info': '#264653'
            };
            return colors[type] || '#264653';
        }

        function markAllAsRead() {
            appData.notifications = [];
            document.querySelectorAll('.notification-badge').forEach(badge => {
                badge.textContent = '0';
            });
            document.querySelector('[style*="position: fixed; top: 100px"]').remove();
            document.querySelector('[style*="position: fixed; top: 0"]').remove();
        }

        // عرض تنبيه
        function showAlert(type, title, message) {
            const alertContainer = document.getElementById('alertContainer');
            const alertId = 'alert-' + Date.now();
            
            const alertHTML = `
                <div class="alert alert-${type}" id="${alertId}">
                    <div class="alert-icon">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : type === 'danger' ? 'times-circle' : 'info-circle'}"></i>
                    </div>
                    <div class="alert-content">
                        <h4>${title}</h4>
                        <p>${message}</p>
                    </div>
                    <button class="alert-close" onclick="document.getElementById('${alertId}').remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            alertContainer.insertAdjacentHTML('afterbegin', alertHTML);
            
            // إزالة التنبيه تلقائياً بعد 5 ثوانٍ
            setTimeout(() => {
                const alertEl = document.getElementById(alertId);
                if (alertEl) {
                    alertEl.style.opacity = '0';
                    alertEl.style.transform = 'translateY(-20px)';
                    setTimeout(() => alertEl.remove(), 300);
                }
            }, 5000);
        }

        // فتح الإجراءات السريعة
        function openQuickActions() {
            const actions = [
                { icon: 'fa-file-alt', text: 'إنشاء تقرير', action: 'createReport' },
                { icon: 'fa-user-plus', text: 'إضافة موظف', action: 'addEmployee' },
                { icon: 'fa-bullhorn', text: 'إرسال إشعار عام', action: 'sendNotification' },
                { icon: 'fa-shield-alt', text: 'فحص النظام', action: 'systemCheck' },
                { icon: 'fa-download', text: 'تصدير البيانات', action: 'exportData' },
                { icon: 'fa-cog', text: 'إعدادات سريعة', action: 'quickSettings' }
            ];
            
            let actionsHTML = `
                <div style="position: fixed; bottom: 90px; right: 20px; left: 20px; background: white; border-radius: var(--radius-lg); box-shadow: var(--shadow-xl); z-index: 1000; padding: 20px;">
                    <h3 style="margin: 0 0 20px 0; text-align: center; color: var(--dark-color);">الإجراءات الإدارية</h3>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
            `;
            
            actions.forEach(action => {
                actionsHTML += `
                    <button onclick="executeAction('${action.action}'); this.parentElement.parentElement.parentElement.remove(); this.nextElementSibling.remove();" 
                            style="padding: 15px; background: var(--bg-secondary); border: none; border-radius: var(--radius-md); display: flex; flex-direction: column; align-items: center; gap: 8px; cursor: pointer; transition: all 0.2s;">
                        <i class="fas ${action.icon}" style="font-size: 24px; color: var(--primary-color);"></i>
                        <span style="font-size: 13px; font-weight: 600; color: var(--dark-color);">${action.text}</span>
                    </button>
                `;
            });
            
            actionsHTML += `
                    </div>
                    <button onclick="this.parentElement.remove(); this.nextElementSibling.remove();" 
                            style="display: block; width: 100%; padding: 15px; margin-top: 20px; background: var(--danger-color); color: white; border: none; border-radius: var(--radius-md); font-weight: 600; cursor: pointer;">
                        إلغاء
                    </button>
                </div>
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 999;" 
                     onclick="this.remove(); this.previousElementSibling.remove();"></div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', actionsHTML);
        }

        // تنفيذ الإجراءات
        function executeAction(action) {
            const actions = {
                'createReport': () => window.location.href = 'create-report.html',
                'addEmployee': () => window.location.href = 'add-employee.html',
                'sendNotification': () => {
                    const message = prompt('أدخل نص الإشعار العام:');
                    if (message) {
                        showLoading(true);
                        setTimeout(() => {
                            showLoading(false);
                            showAlert('success', 'تم الإرسال', 'تم إرسال الإشعار لجميع المستخدمين بنجاح');
                        }, 1500);
                    }
                },
                'systemCheck': () => {
                    showLoading(true);
                    setTimeout(() => {
                        showLoading(false);
                        showAlert('success', 'فحص النظام', 'النظام يعمل بكفاءة عالية، جميع الخدمات تعمل بشكل طبيعي');
                    }, 2000);
                },
                'exportData': () => {
                    showLoading(true);
                    setTimeout(() => {
                        showLoading(false);
                        showAlert('success', 'تصدير البيانات', 'تم تصدير البيانات بنجاح، جاري تحميل الملف...');
                        // محاكاة تحميل الملف
                        setTimeout(() => {
                            const link = document.createElement('a');
                            link.href = 'data:text/csv;charset=utf-8,test';
                            link.download = 'pixelart-data-export.csv';
                            link.click();
                        }, 1000);
                    }, 1500);
                },
                'quickSettings': () => window.location.href = 'settings.html'
            };
            
            if (actions[action]) {
                actions[action]();
            }
        }

        // فتح التقارير
        function openReports() {
            window.location.href = 'reports.html';
        }

        // عرض/إخفاء شريط التحميل
        function showLoading(show) {
            const loadingBar = document.getElementById('loadingBar');
            if (show) {
                loadingBar.classList.add('active');
            } else {
                loadingBar.classList.remove('active');
            }
        }

        // تحريك العدادات
        function animateCounter(element, target) {
            const current = parseInt(element.textContent.replace(/,/g, '') || '0');
            const increment = target > current ? 1 : -1;
            let currentValue = current;
            
            const timer = setInterval(() => {
                currentValue += increment;
                element.textContent = currentValue.toLocaleString('ar-SA');
                
                if (currentValue === target) {
                    clearInterval(timer);
                }
            }, 20);
        }

        // إعداد تأثيرات التمرير
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
        }

        // محاكاة تحديثات حية
        function simulateLiveUpdates() {
            setInterval(() => {
                // تحديث عشوائي للإحصائيات
                const stats = ['totalUsers', 'activeDesigners', 'activeProjects'];
                const randomStat = stats[Math.floor(Math.random() * stats.length)];
                
                if (appData.stats[randomStat]) {
                    const change = Math.random() > 0.5 ? 1 : -1;
                    appData.stats[randomStat] += change;
                    
                    const element = document.getElementById(randomStat);
                    if (element) {
                        element.textContent = appData.stats[randomStat].toLocaleString('ar-SA');
                    }
                }
            }, 10000);
        }

        // تحديث إحصائيات لوحة التحكم
        function updateDashboardStats() {
            showLoading(true);
            
            // محاكاة جلب بيانات جديدة
            setTimeout(() => {
                // تحديث عشوائي
                Object.keys(appData.stats).forEach(key => {
                    const change = Math.floor(Math.random() * 10) - 3;
                    appData.stats[key] = Math.max(0, appData.stats[key] + change);
                    
                    const el = document.getElementById(key);
                    if (el) {
                        animateCounter(el, appData.stats[key]);
                    }
                });
                
                showLoading(false);
                showAlert('info', 'تحديث تلقائي', 'تم تحديث البيانات بنجاح');
            }, 1000);
        }

        // وظائف إضافية للمحتوى
        function viewContent(id) {
            alert(`عرض المحتوى رقم ${id}\n\nسيتم فتح صفحة الفحص...`);
            // في التطبيق الحقيقي: فتح صفحة فحص المحتوى
        }

        function removeContent(id) {
            if (confirm('هل تريد حذف هذا المحتوى نهائياً؟')) {
                showAlert('danger', 'تم الحذف', 'تم حذف المحتوى بنجاح');
                // في التطبيق الحقيقي: إرسال طلب الحذف للسيرفر
            }
        }

        function warnUser(id) {
            const warning = prompt('أدخل نص الإنذار للمستخدم:');
            if (warning) {
                showAlert('warning', 'تم الإرسال', `تم إرسال إنذار للمستخدم: ${warning}`);
                // في التطبيق الحقيقي: إرسال الإنذار للسيرفر
            }
        }

        // تسجيل الخروج
        function logout() {
            if (confirm('هل تريد تسجيل الخروج؟')) {
                localStorage.removeItem('pixelArtAdmin');
                localStorage.removeItem('isLoggedIn');
                showLoading(true);
                
                setTimeout(() => {
                    showLoading(false);
                    window.location.href = 'index.html';
                }, 1000);
            }
        }

        // إضافة زر تسجيل الخروج في الهيدر
        document.querySelector('.header-right').innerHTML += `
            <button class="header-action" onclick="logout()" title="تسجيل الخروج">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        `;
    </script>
</body>
</html>
